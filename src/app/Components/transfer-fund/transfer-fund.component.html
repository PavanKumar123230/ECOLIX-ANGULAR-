<div class="wallet-transfer container py-4">
  <!-- Wallet Header -->
  <div class="card text-white gradient-header mb-4 shadow-sm rounded-4 text-center p-4" *ngIf="profiledata">
    <h4 class="fw-semibold mb-2">Wallet Balance</h4>
    <h1 class="fw-bold balance-display">₹{{ profiledata.actwallet | number: '1.2-2' }}</h1>
  </div>

  <!-- Transfer Form -->
  <div class="card shadow-sm rounded-4 p-4 bg-light">
    <h5 class="fw-semibold text-center text-primary mb-4">Transfer Funds</h5>

    <form [formGroup]="transferForm" (ngSubmit)="onTransfer()" novalidate>
      <div class="row g-3">
        <!-- Amount -->
        <div class="col-md-6">
          <label class="form-label">Amount (₹)</label>
          <input class="form-control" placeholder="Enter amount" formControlName="amount" />
          <div class="text-danger small mt-1"
            *ngIf="transferForm.get('amount')?.invalid && transferForm.get('amount')?.touched">
            <span *ngIf="transferForm.get('amount')?.errors?.['required']">Amount is required.</span>
            <span *ngIf="transferForm.get('amount')?.errors?.['min']">Minimum transfer amount is ₹50.</span>
          </div>
        </div>

        <!-- User ID -->
        <div class="col-md-6">
          <label class="form-label">User ID</label>
          <input type="text" class="form-control" placeholder="User123" formControlName="regid" />
          <div class="text-danger small mt-1"
            *ngIf="transferForm.get('regid')?.invalid && transferForm.get('regid')?.touched">
            User ID is required
          </div>
        </div>


        <!-- Remark -->
        <div class="col-md-6">
          <label class="form-label">Remark</label>
          <textarea class="form-control" rows="3" placeholder="Enter your remarks..."
            formControlName="remark"></textarea>
          <div class="text-danger small mt-1"
            *ngIf="transferForm.get('remark')?.invalid && transferForm.get('remark')?.touched">
            Please enter a valid remark
          </div>
        </div>
      </div>

      <button type="submit" class="btn btn-gradient w-100 mt-4 py-2 fw-semibold" [disabled]="transferForm.invalid">
        Transfer Funds
      </button>
    </form>
  </div>

  <!-- Transaction Table -->
  <div class="transactions-section mt-5">
    <h5 class="fw-semibold text-secondary text-center mb-3">Recent Transfer Transactions</h5>
    <div class="table-responsive mt-4">
      <table class="table table-bordered table-hover text-center align-middle shadow-sm">
        <thead class="table-primary">
          <tr>
            <th>S.No</th>
            <th>Date & Time</th>
            <th>User ID</th>
            <th>Wallet Type</th>
            <th>Amount (₹)</th>
            <th>Type</th>
            <th>Remark</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="transactions.length === 0">
            <td colspan="7" class="text-muted">No transactions found</td>
          </tr>
          <tr *ngFor="let txn of transactions; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ txn.date }}</td>
            <td>{{ txn.userId }}</td>
            <td>{{ txn.walletType }}</td>
            <td>₹{{ txn.amount | number: '1.2-2' }}</td>
            <td>
              <span class="badge" [ngClass]="{
                    'bg-success': txn.type === 'credit',
                    'bg-danger': txn.type === 'debit'
                  }">
                {{ txn.type | titlecase }}
              </span>
            </td>
            <td>{{ txn.remark || '-' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>