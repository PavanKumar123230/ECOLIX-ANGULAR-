<div class="text-center mb-4">
  <div class="d-flex flex-wrap justify-content-center gap-2">
    <button class="btn px-3 py-2 flex-fill"
      [ngClass]="selectedUserType === 'Wallet_Level' ? 'btn-primary' : 'btn-outline-primary'"
      (click)="changeType('Wallet_Level')" style="min-width: 180px;">
      Welcome Bonus Level Income
    </button>
    <button class="btn px-3 py-2 flex-fill"
      [ngClass]="selectedUserType === 'Level_members' ? 'btn-primary' : 'btn-outline-primary'"
      (click)="changeType('Level_members')" style="min-width: 180px;">
      Extra Welcome Bonus Rewards
    </button>
  </div>
</div>
<!-- Wallet Level Table -->


<!-- <div *ngIf="selectedUserType === 'Wallet_Level'" class="container my-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white text-center py-3">
      <h4 class="mb-0 fw-bold">Welcome Bonus Level Income</h4>
    </div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-borderless mb-0 align-middle">
          <thead>
            <tr class="text-white">
              <th class="bg-purple text-center">S.No</th>
              <th class="bg-gradient-member text-center">User ID</th>
              <th class="bg-gradient-sharing text-center">Earn</th>
              <th class="bg-gradient-earn text-center">Level</th>
              <th class="bg-gradient-earn text-center">Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of paginatedData; let i = index">
              <td class="bg-purple  text-center fw-bold">
                {{ (currentPage - 1) * itemsPerPage + i + 1 }}
              </td>
              <td class="bg-light-blue text-center">{{ row.forid }}</td>
              <td class="bg-light-green text-center">₹{{ row.amount }}</td>
              <td class="bg-light-green text-center">{{ row.level }}</td>
              <td class="bg-light-green text-center">
                {{ row.cdate | date:'dd-MM-yyyy' }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="text-center my-3" *ngIf="totalPages > 1">
        <button class="btn btn-sm btn-primary me-2" [disabled]="currentPage === 1"
          (click)="currentPage = currentPage - 1">
          Prev
        </button>
        <span class="fw-bold">
          Page {{ currentPage }} / {{ totalPages }}
        </span>
        <button class="btn btn-sm btn-primary ms-2" [disabled]="currentPage === totalPages"
          (click)="currentPage = currentPage + 1">
          Next
        </button>
      </div>
    </div>
  </div>
</div> -->


<div *ngIf="selectedUserType === 'Wallet_Level'" class="container my-5">
<div class="wallet-transfer container py-4">
  <div class="transactions-section ">
    <h4 class="fw-semibold text-secondary text-center mb-3">Welcome Bonus Level Income</h4>
    <div class="table-responsive ">
      <table class="table table-bordered table-hover text-center align-middle shadow-sm">
        <thead class="table-primary">
          <tr>
            <th class="bg-purple text-center">S.No</th>
            <th class="bg-gradient-member text-center">User ID</th>
            <th class="bg-gradient-sharing text-center">Earn</th>
            <th class="bg-gradient-earn text-center">Level</th>
            <th class="bg-gradient-earn text-center">Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="tableData.length === 0">
            <td colspan="5" class="text-muted text-center py-3">
              No transactions found
            </td>
          </tr>
          <tr *ngFor="let row of paginatedData; let i = index">
            <td class="bg-purple  text-center fw-bold">
              {{ (currentPage - 1) * itemsPerPage + i + 1 }}
            </td>
            <td class="bg-light-blue text-center">{{ row.forid }}</td>
            <td class="bg-light-green text-center">₹{{ row.amount }}</td>
            <td class="bg-light-green text-center">{{ row.level }}</td>
            <td class="bg-light-green text-center">
              {{ row.cdate | date:'dd-MM-yyyy' }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="text-center my-3" *ngIf="totalPages > 1">
      <!-- Prev -->
      <button class="btn btn-sm btn-primary me-2" [disabled]="currentPage === 1"
        (click)="currentPage = currentPage - 1">
        Prev
      </button>
      <span class="fw-bold">
        Page {{ currentPage }} / {{ totalPages }}
      </span>
      <!-- Next -->
      <button class="btn btn-sm btn-primary ms-2" [disabled]="currentPage === totalPages"
        (click)="currentPage = currentPage + 1">
        Next
      </button>
    </div>
  </div>
</div>
</div>

<div *ngIf="selectedUserType === 'Level_members'" class="container my-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white text-center py-3">
      <h3 class="mb-0 fw-bold">Extra Welcome Bonus Rewards</h3>
    </div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-borderless mb-0 align-middle" style=" padding: 1rem;
        vertical-align: middle;
        font-size: 1.1rem;">
          <thead>
            <tr class="text-white">
              <th  class="bg-purple text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">LEVELS</th>
              <th style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;" class=" text-center">TARGET DAYS</th>
              <th class=" text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">SHARING PV</th>
              <th class=" text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">Target ID'S</th>
              <th class=" text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">Team Count</th>
              <th class="text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">Earning</th>
              <th class="text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">Remaining Days</th>
              <th class="text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let row of tableData">
              <td class="bg-purple text-center fw-bold" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.level }}</td>
              <td class="bg-light-blue text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.target }}</td>
              <td class="bg-light-green text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.pv }}</td>
              <td class="bg-light-green text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.totalLabel }}</td>
              <td class="bg-light-green text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.count }}</td>

              <!-- ⭐ Earn Binding -->
              <td class="bg-light-green text-center" style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;">{{ row.earn }}</td>

              <!-- ⭐ Remaining Days Binding -->
              <td style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;" class="bg-light-green text-center fw-bold" [ngStyle]="{ 'color': getRemainingColor(row.remaining) }">
                {{ row.remaining }}
              </td>
              <!-- Status -->
              <td style=" padding: 1rem;
              vertical-align: middle;
              font-size: 1.1rem;" class="text-center fw-bold" [ngStyle]="{ 'color': getStatusColor(row.status) }">
                {{ row.status | uppercase }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>