<!-- <aside class="sidebar" [class.open]="isSidebarOpen">
  <div class="sidebar-header">
    <div class="brand">
      <i class="bi bi-shop"></i>
      <span *ngIf="isUser">User Panel</span>
      <span *ngIf="isAdmin">Admin Panel</span>
    </div>
    <i class="bi bi-x close-btn" (click)="toggleSidebar()"></i>
  </div>
  <nav class="nav">
    <ng-container *ngFor="let item of menuItems">
      <a *ngIf="!item.children" (click)="navigate(item.route)" class="nav-link">
        <i [class]="item.icon"></i>
        <span>{{item.label}}</span>
      </a>
      <div *ngIf="item.children">
        <div class="nav-item" (click)="toggleSubmenu(item.label)">
          <div class="nav-item-main">
            <i [class]="item.icon"></i>
            <span>{{item.label}}</span>
          </div>
          <i class="bi" [ngClass]="{'bi-chevron-down': !openSubmenus[item.label], 'bi-chevron-up': openSubmenus[item.label]}"></i>
        </div>
        <div class="submenu" *ngIf="openSubmenus[item.label]">
          <a *ngFor="let child of item.children" (click)="navigate(child.route)" class="submenu-link">
            <i [class]="child.icon"></i>
            <span>{{child.label}}</span>
          </a>
        </div>
      </div>
    </ng-container>
      <a
        class="nav-link text-danger"
        (click)="logout()">
        Logout
      </a>
  </nav>
</aside>


<div class="overlay" *ngIf="isSidebarOpen" (click)="toggleSidebar()"></div>




 -->



 <aside class="sidebar" [class.open]="sidebarService.isOpen | async">
  <div class="sidebar-header">
    <div class="brand">
      <i class="bi bi-shop fs-4 me-2"></i>
      <span *ngIf="isUser">User Panel</span>
      <span *ngIf="isAdmin">Admin Panel</span>
    </div>
    <i class="bi bi-x-lg close-btn" (click)="toggleSidebar()"></i>
  </div>

  <nav class="nav flex-column mt-3">
    <ng-container *ngFor="let item of menuItems">
      <!-- Main links -->
      <a *ngIf="!item.children"
         (click)="navigate(item.route)"
         class="nav-link d-flex align-items-center">
        <i [class]="item.icon + ' me-2'"></i>
        <span>{{ item.label }}</span>
      </a>

      <!-- Submenu -->
      <div *ngIf="item.children">
        <div class="nav-item d-flex justify-content-between align-items-center nav-link"
             (click)="toggleSubmenu(item.label)">
          <div class="d-flex align-items-center">
            <i [class]="item.icon + ' me-2'"></i>
            <span>{{ item.label }}</span>
          </div>
          <i class="bi"
             [ngClass]="openSubmenus[item.label] ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
        </div>

        <div class="submenu ps-4" *ngIf="openSubmenus[item.label]">
          <a *ngFor="let child of item.children"
             (click)="navigate(child.route)"
             class="submenu-link d-flex align-items-center">
            <i [class]="child.icon + ' me-2'"></i>
            <span>{{ child.label }}</span>
          </a>
        </div>
      </div>
    </ng-container>

    <a class="nav-link text-danger mt-4 d-flex align-items-center" (click)="logout()">
      <i class="bi bi-box-arrow-right me-2"></i>
      <span>Logout</span>
    </a>
  </nav>
</aside>

<!-- Overlay for mobile -->
<div class="overlay" *ngIf="sidebarService.isOpen | async" (click)="toggleSidebar()"></div>
