<div class="admin-dashboard">
  <h2 class="title"><i class="fas fa-exchange-alt"></i> Transfer Wallet to User</h2>

  <!-- ðŸ”¹ Transfer Form -->
  <form [formGroup]="transferForm" (ngSubmit)="onSubmit()" class="transfer-form card">
    <div class="form-group">
      <label><i class="fas fa-user"></i> User ID</label>
      <input type="text" formControlName="regid" (keyup)="onRegIdChange($event)" placeholder="Enter User ID" />
      <div class="username" [ngClass]="{'notfound': userName === 'User not found'}">
        {{ userName }}
      </div>
    </div>

    <div class="form-group">
      <label><i class="fas fa-coins"></i> Amount</label>
      <input type="number" formControlName="amount" placeholder="Enter Amount" />
    </div>

    <div class="form-group">
      <label><i class="fas fa-comment-dots"></i> Remark</label>
      <textarea formControlName="remark" placeholder="Enter remark"></textarea>
    </div>

    <button type="submit" [disabled]="loading" class="btn btn-transfer">
      <i class="fas fa-paper-plane"></i> {{ loading ? 'Transferring...' : 'Transfer Fund' }}
    </button>
  </form>

  <!-- ðŸ”¹ Alerts -->
  <div *ngIf="successMsg" class="alert success">{{ successMsg }}</div>
  <div *ngIf="errorMsg" class="alert error">{{ errorMsg }}</div>

  <!-- ðŸ”¹ Transfer History Table -->
  <div class="transfer-history card">
    <h3><i class="fas fa-history"></i> Transfer History</h3>
    <div class="table-responsive">
      <table *ngIf="walletTransfers.length > 0; else noData">
        <thead>
          <tr>
            <th>User ID</th>
            <th>Receiver Name</th>
            <th>Phone</th>
            <th>Amount</th>
            <th>Type</th>
            <th>Remark</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of walletTransfers">
            <td>{{ t.userid }}</td>
            <td>{{ t.rname }}</td>
            <td>{{ t.rphone }}</td>
            <td>{{ t.amount }}</td>
            <td>{{ t.type }}</td>
            <td>{{ t.remark }}</td>
            <td>{{ t.cdate }}</td>
          </tr>
        </tbody>
      </table>
      <ng-template #noData>
        <p class="no-data">No transfers found.</p>
      </ng-template>
    </div>
  </div>
</div>
